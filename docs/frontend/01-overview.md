# Загальний огляд фронтенд-частини

## Технологічний стек

Фронтенд-частина проекту Monobank Donate побудована на сучасному стеку технологій:

- **React 19** - бібліотека для побудови користувацьких інтерфейсів
- **TypeScript** - статично типізована надбудова над JavaScript
- **Vite** - швидкий інструмент збірки та розробки
- **Tailwind CSS** - утилітарний CSS-фреймворк
- **React QR Code** - генерація QR-кодів для платіжних посилань
- **React Spring** - бібліотека для створення анімацій

## Архітектурний підхід

Проект дотримується компонентно-орієнтованої архітектури з чітким розподілом відповідальності:

1. **Компонентна структура**:
   - Компоненти розділені на логічні групи (common, donation, layout)
   - Кожен компонент відповідає за окрему частину інтерфейсу
   - Композиція компонентів для побудови складних UI елементів

2. **Управління станом**:
   - Використання React хуків (useState, useEffect, useContext)
   - Кастомні хуки для інкапсуляції бізнес-логіки
   - Локальний стан для компонентів та глобальний для тем

3. **Типізація**:
   - Суворе дотримання типізації через TypeScript
   - Чіткі інтерфейси для всіх компонентів та функцій
   - Типізовані дані з бекенду

4. **Стилізація**:
   - Utility-first підхід з Tailwind CSS
   - Темізація (світла/темна тема)
   - Адаптивний дизайн для всіх типів пристроїв

## Схема потоку даних

```
┌─────────────┐         ┌───────────────┐         ┌────────────────┐
│             │ HTTP    │               │ Props   │                │
│  Backend    │◄────────┤ useDonationData ├────────►   Компоненти   │
│  (API)      │─────────►               │─────────►                │
│             │ JSON    │               │ State   │                │
└─────────────┘         └───────────────┘         └────────────────┘
                             │    ▲
                             │    │
                    Triggers │    │ Current 
                             │    │ State
                             ▼    │
                        ┌─────────────┐
                        │             │
                        │  useEffect  │
                        │  (Update    │
                        │  scheduler) │
                        │             │
                        └─────────────┘
```

## Діаграма компонентів

```
            ┌───────────App────────────┐
            │                          │
┌───────────┴────────┐     ┌───────────┴────────┐
│       Header        │     │    Main Content    │
│    (Theme Toggle)   │     │                    │
└────────────────────┘     └───────────┬────────┘
                                       │
            ┌───────────────────┬──────┴───────┬──────────────────┐
            │                   │              │                   │
┌───────────┴────────┐ ┌────────┴─────┐ ┌──────┴───────┐ ┌────────┴────────┐
│    DonationCard    │ │  StatusInfo  │ │   InfoCard   │ │  NotificationPrompt │
│  (QR, Progress)    │ │ (Countdown)  │ │ (Description)│ │   (Permissions)     │
└───────────┬────────┘ └──────┬───────┘ └──────────────┘ └───────────────────┘
            │                  │
┌───────────┴────────┐ ┌──────┴───────┐
│    ProgressBar     │ │AnimatedValue │
└────────────────────┘ └──────────────┘
```

## Потік даних компонентів

1. **App** - головний компонент
   - Ініціює отримання даних про збір
   - Відстежує зміни у даних для сповіщень
   - Керує темою додатку

2. **DonationCard** - відображення інформації про збір
   - Показує поточну суму та ціль
   - Відображає прогрес збору
   - Генерує QR-код для посилання на збір

3. **StatusInfo** - інформація про оновлення даних
   - Показує час останнього оновлення
   - Відображає зворотний відлік до наступного оновлення
   - Керує ручним оновленням даних

4. **InfoCard** - додаткова інформація про збір
   - Опис збору
   - Додаткові деталі

5. **NotificationPrompt** - керування сповіщеннями
   - Запитує дозволи на показ сповіщень
   - Керує видимістю запиту

## Головні особливості фронтенду

1. **Реальночасові оновлення** - періодичне автоматичне оновлення даних про збір
2. **Анімована візуалізація прогресу** - плавна анімація змін значень та прогрес-бару
3. **Push-сповіщення** - нативні сповіщення браузера про значні зміни у зборі
4. **Темна/світла тема** - повна підтримка різних кольорових схем
5. **Адаптивний дизайн** - оптимізоване відображення на всіх типах пристроїв
6. **QR-код генерація** - створення QR-кодів для платіжних посилань

## Взаємодія з бекендом

Взаємодія з бекендом відбувається через хук `useDonationData`, який:

1. Виконує HTTP-запити до API `/api/parse-monobank`
2. Обробляє отримані дані та помилки
3. Керує станом завантаження та часом останнього оновлення
4. Планує періодичні оновлення даних
5. Надає метод для ручного оновлення

## Модульна структура

Фронтенд має чітку модульну структуру з розділенням відповідальності:

- **components/** - UI компоненти
- **hooks/** - логіка роботи з даними та станом
- **utils/** - допоміжні функції та утиліти
- **types/** - TypeScript типи та інтерфейси
- **constants/** - константи проекту
- **styles/** - глобальні стилі

Це забезпечує хорошу підтримуваність, розширюваність та перевикористання коду. 